<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>NeoMapas - Narrativa de impacto</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href=".//img/logo_NeoMapas_p.gif" rel="icon" type="image/gif">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
<meta name="twitter:title" content="NeoMapas - Narrativa de impacto">
<meta name="twitter:description" content="">
<meta name="twitter:creator" content="@neomapas">
<meta name="twitter:card" content="summary">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">NeoMapas</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html" rel="" target="">
 <span class="menu-text">Inicio</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-lugares" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Lugares</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-lugares">    
        <li>
    <a class="dropdown-item" href="./CNEB.html" rel="" target="">
 <span class="dropdown-text">CNEB</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./lugares.html" rel="" target="">
 <span class="dropdown-text">Rutas de NeoMapas</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-taxones" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Taxones</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-taxones">    
        <li class="dropdown-header">Grupos indicadores</li>
        <li>
    <a class="dropdown-item" href="./grupos_indicadores/mariposas.html" rel="" target="">
 <span class="dropdown-text">Mariposas</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./grupos_indicadores/escarabajos.html" rel="" target="">
 <span class="dropdown-text">Escarabajos</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./grupos_indicadores/aves.html" rel="" target="">
 <span class="dropdown-text">Aves</span></a>
  </li>  
        <li class="dropdown-header">+ información</li>
        <li>
    <a class="dropdown-item" href="./especies.html" rel="" target="">
 <span class="dropdown-text">Especies destacadas</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://neomapas.github.io/iNat-obs-dashboard/" rel="" target="">
 <span class="dropdown-text">Contribuciones en iNaturalist</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-producción-científica" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Producción científica</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-producción-científica">    
        <li>
    <a class="dropdown-item" href="./referencias.html" rel="" target="">
 <span class="dropdown-text">Publicaciones</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="./presentaciones.html" rel="" target="">
 <span class="dropdown-text">Presentaciones</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="./personas.html" rel="" target="">
 <span class="menu-text">Personas</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html" rel="" target="">
 <span class="menu-text">+ información</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar"><div class="quarto-margin-header"><div class="margin-header-item">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./img/logo_NeoMapas_p.gif" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Iniciativa para el monitoreo de la biodiversidad Neotropical</figcaption>
</figure>
</div>
</div></div>
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#summary" id="toc-summary" class="nav-link active" data-scroll-target="#summary">Summary</a></li>
  <li><a href="#research-description" id="toc-research-description" class="nav-link" data-scroll-target="#research-description">Research description</a>
  <ul class="collapse">
  <li><a href="#research-impact" id="toc-research-impact" class="nav-link" data-scroll-target="#research-impact">Research impact</a></li>
  <li><a href="#selected-media-appearances" id="toc-selected-media-appearances" class="nav-link" data-scroll-target="#selected-media-appearances">Selected media appearances</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/NeoMapas/NeoMapas.github.io/edit/alpha-centauri/impacto.qmd" class="toc-action">Edit this page</a></p><p><a href="https://github.com/NeoMapas/NeoMapas.github.io/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Narrativa de impacto</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="summary" class="level2">
<h2 class="anchored" data-anchor-id="summary">Summary</h2>
<p>Tropical Latin America is home to an enormous share of the world’s biodiversity. Despite its immense natural wealth, the region faces a significant deficit of reliable biodiversity data and lacks the local capacity necessary to collect such data. For more than 10 years, Dr José Rafael Ferrer-Paris has led the Neotropical Biodiversity Mapping Initiative (NeoMaps), a long-term biodiversity monitoring program. NeoMaps has not only addressed these gaps in biodiversity data in one of the megadiverse tropical countries, Venezuela, but has also emerged as a model for efficiently surveying biodiversity in developing countries while strengthening the local capacity needed to conduct these surveys. After three nationwide systematic surveys in 2006, 2009, and 2010, NeoMaps has compiled over 170,000 records of presence and abundance for birds, dung beetles, and butterflies. Additionally, it has provided the conceptual basis and practical skills required for designing and implementing biodiversity inventories to more than 60 conservationists from Venezuela, Colombia, Mexico, Peru, Bolivia, Brazil, Uruguay, and Spain.</p>
</section>
<section id="research-description" class="level2">
<h2 class="anchored" data-anchor-id="research-description">Research description</h2>
<p>Tropical Latin America houses a significant portion of the world’s biodiversity. Despite its immense natural wealth, the region faces a marked deficit in trained personnel and adequate funding for planning and prioritizing the conservation of its diverse species and ecosystems.</p>
<p>The Neotropical Biodiversity Mapping Initiative (NeoMaps), led by Dr.&nbsp;José Rafael Ferrer-Paris, Ada Sánchez-Mercado, and Jon Paul Rodríguez, serves as a model for surveying biodiversity in developing countries, aiming to overcome the challenges of cost and time associated with large-scale surveys.</p>
<p>NeoMaps minimizes the field effort required for generating biodiversity data by employing an environmentally stratified sampling design and applying spatial interpolation methods. This allows for the reliable and comparable collection of data in a country as vast as Venezuela (916,445 km2) within six months to a year.</p>
<p>To achieve this, NeoMaps relies on field survey teams that bring together Venezuelan scientists and students with counterparts from neighbouring countries. For this purpose, three international postgraduate courses were held in 2006, 2009, and 2010 at the Ecology Centre of the Venezuelan Institute for Scientific Research. These theoretical and practical courses provided an ideal platform for uniting young individuals from different nationalities and areas of expertise, fostering the exchange of experiences and interactions with internationally recognized experts in biodiversity research. Students from Venezuela, Colombia, Mexico, Peru, Bolivia, Brazil, Uruguay, and Spain participated, alongside invited experts from the United States, Brazil, Costa Rica, Australia, and Venezuela. The students formed several working groups, and after a week of lectures and workshops, they embarked on expeditions to explore various regions of the country, conducting national inventories of dung beetles butterflies and birds.</p>
<p>Between 2001 and 2005, an initial pilot phase was developed, followed by the establishment of uniform data collection protocols nationwide for birds, dung beetles, and butterflies in 2006. During these surveys, NeoMaps accumulated data across 25 locations visited throughout the country. They invested over 800 hours per person in butterfly collection and deployed over 140,000 hours per trap for beetle collection. This intensive effort resulted in the capture of more than 9,000 butterflies from XXX species and over 45,000 beetle specimens from &gt;70 species. Additionally, NeoMaps recorded &gt;170,000 bird observations.</p>
<section id="research-impact" class="level3">
<h3 class="anchored" data-anchor-id="research-impact">Research impact</h3>
<section id="documenting-changes-in-distribution" class="level4">
<h4 class="anchored" data-anchor-id="documenting-changes-in-distribution">Documenting changes in distribution</h4>
<p>Before NeoMaps, Venezuelan conservationists faced a significant challenge: the absence of comprehensive data on the abundance and distribution of species critical to their work. This information gap made it difficult to formulate effective strategies to protect threatened species and manage their habitats.</p>
<p>NeoMaps emerged as a ground-breaking initiative, addressing this challenge head-on. By compiling data that spanned a wide range of vegetation types, climatic conditions, and landscape characteristics, NeoMaps became an invaluable resource for conservationists. It provided the tools needed to explore changes in the abundance and distribution of species, improve our knowledge about distribution for less know species, and allowing us to identify potential ecological indicator species to better understand responses of the biota to environmental changes.</p>
<p>One notable impact of NeoMaps was its contribution to our understanding of parrot species’ distribution and abundance. For instance, it identified that two widespread parrot species, Amazona amazonica and Amazona ochrocephala, initially considered of lesser concern, were experiencing a decline in their distribution. This discovery sent an alert throughout the conservation community. The data gathered by NeoMaps had the power to challenge established notions about the conservation status of certain species, highlighting the need of additional in-depth studies to uncover the meaning behind these contemporary absences.</p>
<p>NeoMaps, also unveiled new information regarding the distribution of a dung-beetle species Oxysternon ebeninum. Its rigorous sampling efforts, allow identify new locations, each presenting unique temperature and precipitation range conditions previously unreported. These new sampling locations offered more than just geographical data; they provided crucial insights. NeoMaps’ data revealed that not only biogeographic barriers, but ecological one played a significant role in shaping the distribution of this species. Thanks to this new information it becomes feasible to design sampling strategies aimed at advancing our comprehension of the species’ ecology and biogeography in the future.</p>
<p>Identifying a suitable ecological indicator is no small feat. It requires a species that not only lends itself to study but also offers profound insights into its ecological context. NeoMaps played a pivotal role in this endeavour by providing crucial occurrence and abundance data for the dung beetle Oxysternon festivum. It also supplied essential information about individual body size and total biomass, allowing us to assess its response to changing climatic conditions and vegetation cover. The results were promising. Oxysternon festivum demonstrated sensitivity to shifts in vegetation cover while exhibiting unexpected resilience. In hotter and drier regions, it not only thrived but also grew in abundance and size, potentially outcompeting more sensitive species. This remarkable adaptability positions Oxysternon festivum as a dynamic indicator species, offering valuable ecological insights.</p>
<p>“This paper proposes a valuable procedure to defining the location of surveys in hyper diverse countries, also providing interesting results of the real capacities of such huge efforts to unveil”real” biodiversity data. In the reviewer’s opinion, which I concur with, the divulgation of this and similar approaches is very recommendable.” Dr Lluis Brotons, Associate Editor, Diversity and Distribution.</p>
</section>
<section id="enhancing-local-capacities-to-monitoring-biodiversity" class="level4">
<h4 class="anchored" data-anchor-id="enhancing-local-capacities-to-monitoring-biodiversity">Enhancing local capacities to monitoring biodiversity</h4>
<p>By combining the enthusiasm of young professionals with the consolidated knowledge of scientific experts, NeoMaps developed and strengthened regional capacity.</p>
<blockquote class="blockquote">
<p>I enjoy seeing how students make the most of the opportunity to interact when speakers or researchers from other countries visit. They are very enthusiastic, coming from various countries: Uruguay, Bolivia, Peru, Colombia, Mexico, and Venezuela, each with their own country-specific issues. Some already have data, and when they have their own data, they are always interested in applying new techniques and seeing the results, especially because this has an impact on their work. - Jonathan Coddington, Scientific Curator at the National Museum of the Smithsonian Institute, USA.</p>
</blockquote>
<p>NeoMaps had a direct impact on 60 conservationists across eight countries, including Venezuela, Colombia, Mexico, Peru, Bolivia, Brazil, Uruguay, and Spain. However, its impact extended beyond the participants, as NeoMaps provided data and mentorship opportunities for the future generation of researchers. Two postgraduate students developed their projects under Dr.&nbsp;Ferrer’s supervision using NeoMaps’ data.</p>
<p>For example, Dr.&nbsp;Cecilia Lozano assessed the conservation status of Venezuelan dung beetles during her postgraduate project at the Universidade Federal de Mato Grosso in Brazil. Dr.&nbsp;Arianna Thomas-Cabianca, currently the head of the Diptera section at the Senckenberg Natural History Collections in Germany, served as the curator of NeoMaps’ dung beetle collection. Also, the interest for develop new sampling methods for butterflies and beetles of Indiana Cristóbal Ríos-Málaver, currently Research Associate at the McGuire Center for Lepidoptera and Biodiversity in the University of Florida, emerged after NeoMaps course, as well as the passion for entomology of María Eugenia Lozada. For all of them, the early interactions with professionals from different countries were instrumental in expanding their vision of their roles in the conservation arena and creating the much-needed networking opportunities that were pivotal to advancing their international careers.</p>
<blockquote class="blockquote">
<p>“They [course participants] may realize that conservation is not just a problem for scientists, such as biologists or ecologists, but it involves everyone who is around or works in the field of planning” Tatjana Good - James Cook University, Australia.</p>
</blockquote>
</section>
</section>
<section id="selected-media-appearances" class="level3">
<h3 class="anchored" data-anchor-id="selected-media-appearances">Selected media appearances</h3>
<p>Scientists from IVIC (Venezuelan Institute for Scientific Research) are building a map of Neotropical biodiversity that crosses borders. Funvisis 29th August 2009</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>